(function(b){var a={timeOutHoverMenu:null,initialize:function(){a.event();a.append_xmenu_toggle()},append_xmenu_toggle:function(){b(".x-nav-menu-toggle-inner").each(function(){b(this).click(function(){b(this).toggleClass("x-in");var c=b(this).attr("data-ref");b("#"+c).slideToggle()})})},event:function(){a.window_resize();a.menu_event();a.window_scroll();a.tabs_position(5)},window_scroll:function(){b(window).on("scroll",function(c){b(".x-nav-menu > li").each(function(){a.process_menu_position(this)})})},window_resize:function(){b(window).resize(function(){a.tabs_position(5);b(".x-nav-menu > li").each(function(){a.process_menu_position(this);a.process_tab_padding(this)});b(".x-nav-menu").each(function(){var c=b(this).attr("id");if(a.is_desktop(c)){b(this).css("display","");b("ul.x-sub-menu",this).css("display","");b(".x-nav-menu-toggle-inner",b(this).parent()).removeClass("x-in")}})})},tabs_position:function(c){b(".x-sub-menu-tab").each(function(){var e=b(this);var d=b(this).parent().outerWidth();if(b("> li.x-menu-active",this).length==0){b("> li:first-child",this).addClass("x-menu-active")}b("> li",this).each(function(){b("> ul",this).css("left",d+"px")});b("> li.x-menu-active",this).each(function(){a.tab_position(b(this))})});if(c>0){setTimeout(function(){a.tabs_position(c-1)},500)}},tab_position:function(c){var d=0;if(b("> ul",c).length!=0){d=b("> ul",c).outerHeight()}c.parent().css("min-height",d+"px")},menu_event:function(){b(".x-sub-menu-tab > li:first-child").addClass("x-menu-active");b(".x-nav-menu > li").each(function(){a.process_menu_position(this);a.process_tab_padding(this)});b(".x-nav-menu").each(function(){var c=a.get_transition_name(this);var d=b(this).attr("id");a.transition_menu(this,c,d);a.process_menu_mobile_click(this,d);b(".x-sub-menu-tab > li",this).hover(function(){if(!a.is_desktop(d)){return}b("> li",b(this).parent()).removeClass("x-menu-active");b(this).addClass("x-menu-active");a.tab_position(b(this))},function(){})})},process_menu_mobile_click:function(d,c){b("li.x-menu-item > a > b.x-caret",d).click(function(e){if(a.is_desktop(c)){return}e.preventDefault();b(this).parent().parent().toggleClass("x-sub-menu-open");b("> ul.x-sub-menu",b(this).parent().parent()).slideToggle()})},process_tab_padding:function(e){var d=b(e);if(d.hasClass("x-sub-menu-multi-column")){var c=b("> ul.x-sub-menu > li.x-tabs",d);if(c.length>0){b(" > ul.x-sub-menu",d).addClass("no-padding")}}b("> ul.x-sub-menu > li").each(function(){a.process_tab_padding(this)})},transition_menu:function(f,c,d){var e=b(f);b("> li.x-menu-item",e).each(function(){var h=a.get_transition_name(b("> ul",this));if(h==""){h=c}var g=300;if(h==""){g=100}b(this).hover(function(){if(!a.is_desktop(d)){return}var i=b(this);clearTimeout(a.timeOutHoverMenu);a.timeOutHoverMenu=setTimeout(function(){i.addClass("x-active");if(h!=""){b("> ul",i).addClass(h)}},g)},function(){if(!a.is_desktop(d)){return}clearTimeout(a.timeOutHoverMenu);if(b(this).hasClass("x-active")){b("> ul",this).addClass(h+"-out");var i=b(this);setTimeout(function(){if(h!=""){b("> ul",i).removeClass(h);b("> ul",i).removeClass(h+"-out")}b(i).removeClass("x-active")},g)}});if(!b(this).hasClass("x-sub-menu-multi-column")){a.transition_menu(b("> ul.x-sub-menu",this),c,d)}})},get_transition_name:function(d){var c="";if(b(d).hasClass("x-animate-slide-up")){c="x-slide-up"}else{if(b(d).hasClass("x-animate-slide-down")){c="x-slide-down"}else{if(b(d).hasClass("x-animate-slide-left")){c="x-slide-left"}else{if(b(d).hasClass("x-animate-slide-right")){c="x-slide-right"}else{if(b(d).hasClass("x-animate-fade-in")){c="x-fade-in"}else{if(b(d).hasClass("x-animate-sign-flip")){c="x-sign-flip"}}}}}}return c},process_menu_position:function(f){var e=b(f);var c=b(".x-nav-menu");var d=b(f).parent();if(e.hasClass("x-pos-left-menu-parent")){a.process_position_left_menu_parent(f)}else{if(e.hasClass("x-pos-right-menu-parent")){a.process_position_right_menu_parent(f)}else{if(e.hasClass("x-pos-center-menu-parent")){a.process_position_center_menu_parent(f)}else{if(e.hasClass("x-pos-left-menu-bar")){a.process_position_left_menu_bar(f)}else{if(e.hasClass("x-pos-right-menu-bar")){a.process_position_right_menu_bar(f)}else{if(e.hasClass("x-pos-full")){}else{a.process_position_right_menu_parent(f)}}}}}}},get_margin_left:function(e){var c=b(e).css("margin-left");try{c=parseInt(c.replace("px",""),10)}catch(d){c=0}return c},process_position_left_menu_parent:function(h){var g=b(h);var c=b(".x-nav-menu");var f=b("> ul.x-sub-menu",g);if(f.length==0){return}if(c.outerWidth()<=f.outerWidth()){f.css("left","0");f.css("right","0")}else{var d=a.get_margin_left(h);var e=c.outerWidth()-b(h).outerWidth()-b(h).position().left-d;if(b(h).outerWidth()+b(h).position().left+d<f.outerWidth()){f.css("left","0");f.css("right","auto")}else{f.css("left","auto");f.css("right",e+"px")}}},process_position_right_menu_parent:function(g){var f=b(g);var c=b(".x-nav-menu");var e=b("> ul.x-sub-menu",f);if(e.length==0){return}var d=a.get_margin_left(g);if(c.outerWidth()<=e.outerWidth()){e.css("left","0");e.css("right","0")}else{if(c.outerWidth()-b(g).position().left-d<e.outerWidth()){e.css("left","auto");e.css("right","0")}else{e.css("left",(b(g).position().left+d)+"px");e.css("right","auto")}}},process_position_center_menu_parent:function(h){var g=b(h);var c=b(".x-nav-menu");var f=b("> ul.x-sub-menu",g);if(f.length==0){return}if(c.outerWidth()<=f.outerWidth()){f.css("left","0");f.css("right","0")}else{var d=a.get_margin_left(h);var e=(f.outerWidth()-g.outerWidth()-d)/2;if(e>b(h).position().left){f.css("left","0");f.css("right","auto")}else{if(e>c.outerWidth()-b(h).outerWidth()-b(h).position().left){f.css("left","auto");f.css("right","0")}else{f.css("left",(b(h).position().left-e)+"px");f.css("right","auto")}}}},process_position_left_menu_bar:function(e){var d=b(e);var c=b("> ul.x-sub-menu",d);c.css("left","0");c.css("right","auto")},process_position_right_menu_bar:function(e){var d=b(e);var c=b("> ul.x-sub-menu",d);c.css("left","auto");c.css("right","0")},is_desktop:function(d){var e=991;var c=b("#"+d);if((typeof(c.attr("data-breakpoint"))!="undefined")&&!isNaN(parseInt(c.attr("data-breakpoint"),10))){e=parseInt(b("#"+d).attr("data-breakpoint"),10)}return window.matchMedia("(min-width: "+(e+1)+"px)").matches}};b(document).ready(function(){a.initialize()})})(jQuery);